<!DOCTYPE html>
<html>
  <head>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
      integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
      crossorigin="anonymous"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  </head>
  <style>
    form {
      width: 30%;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    .button {
      margin: 0 auto !important;
      display: block;
    }
    .button-loading {
      margin: 0 auto !important;
      display: none;
    }
    .image {
      width: 250px;
      margin: 0 auto;
    }
  </style>
  <body>
    <form action="http://127.0.0.1:4000/result" method="POST">
      <image src="../static/gmail.png" class="image" />
      <div class="form-group">
        <label for="exampleInputEmail1">Email address</label>
        <input type="email" class="form-control" id="textInput1" name="email" aria-describedby="emailHelp" required />
        <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
      </div>
      <div class="form-group">
        <label for="exampleInputPassword1">Password</label>
        <input type="password" class="form-control" id="textInput2" name="password" required />
      </div>
      <button type="submit" class="btn btn-primary button" id="buttonInput" value="Analyze" onClick="onSubmit()">
        Submit
      </button>
      <button class="btn btn-primary button-loading" type="button" disabled>
        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
        Analysing...
      </button>
    </form>
  </body>
  <script>
    const onSubmit = () => {
      let email = document.getElementsByName('email')[0].value
      let password = document.getElementsByName('password')[0].value
      if (email !== '' && password !== '') {
        document.getElementsByClassName('button')[0].style.display = 'none'
        document.getElementsByClassName('button-loading')[0].style.display = 'block'
      }
    }
  </script>
</html>
